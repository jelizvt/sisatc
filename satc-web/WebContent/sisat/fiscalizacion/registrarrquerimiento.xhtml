<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions" hideDelay="0"
	submitMode="client">

	<style type="text/css">
.body3 {
	height: 300px;
	overflow: auto;
}

.foo label {
	font-weight: normal;
	font-size: 9px;
}
</style>
	<style type="">
.
collabel {
	width: 100px;
}
</style>

	<h:form id="frm">

		<a4j:loadScript src="/js/jquery.maskedinput-1.3.js" />
		<a4j:loadScript src="/js/jquery.maskMoney.js" />
		<a4j:loadScript src="/js/sisat.js" />
		<rich:hotKey key="return"
			handler="#{rich:element('cmdBuscarLote')}.click()" selector="#frm" />


		<rich:tabPanel switchType="client">
			<rich:tab label="REGISTRO DEL REQUERIMIENTO DE INSPECCIÓN">
				<a4j:outputPanel id="id_panelprincipalregistropredio">
					<table align="center" border="0" cellpadding="0" cellspacing="0"
						width="100%">
						<tr>
							<td>
								<table align="center" width="100%">

									<tr>
										<td>
											<table align="center" border="0" width="100%" cellpadding="2"
												cellspacing="2">

												<tr>
													<td><rich:panel style="width:100%; height: 220px;"
															id="id_panelregistrorequerimiento">

															<f:facet name="header">
																<h:outputText style="font-weight:bold"
																	value="DATOS DEL REQUERIMIENTO" />
															</f:facet>

															<table border="0" width="100%" height="100%">

																<tr>
																	<td align="left" width="100px"><h:outputLabel
																			value="Tipo de Documento :">
																			<span style="color: red;">*</span>
																		</h:outputLabel></td>
																	<td align="left" width="290px">
																		<!-- <h:panelGrid id="panelsubconcepto" style=" width:200px;"> -->
																		<rich:comboBox id="id_cmbrequerimiento"
																			value="#{controlRequerimientoManaged.cmbTipoDocRequerimiento}"
																			valueChangeListener="#{controlRequerimientoManaged.loadTipoDocRequerimiento}"
																			defaultLabel="#{msg['obl.defaultLabelCmbSubConcepto']}"
																			required="true"
																			requiredMessage="Indique el tipo de documento"
																			width="220" tabindex="3"
																			onkeypress="return showListCbo(this,event);"
																			onblur="validaInputCbo(this)">
																			<f:selectItems
																				value="#{controlRequerimientoManaged.listaTipoDocRequerimiento}" />
																			<a4j:support
																				reRender="id_textcorrelativoC,id_textcorrelativoR,id_textcorrelativoCM"
																				event="onchange" bypassUpdates="false"
																				ajaxSingle="true">
																			</a4j:support>

																		</rich:comboBox>
																	</td>
											<td align="left" width="110px"><h:outputLabel
																			value="Nro. de Documento:">
																			<span style="color: red;">*</span>
																		</h:outputLabel></td>
																	<td>
																		<!-- 																			<h:panelGroup id="id_textcorrelativoR"> -->
																		<!-- 																					<h:outputText  value="#{controlRequerimientoManaged.correlativoReque}"  -->
																		<!-- 																			 		  rendered="#{controlRequerimientoManaged.istipoReque}"> -->
																		<!-- 																				   </h:outputText> --> <!-- 															               </h:panelGroup> -->

																		<h:panelGroup id="id_textcorrelativoR">
																			<h:inputText id="inputcorrelativoR"
																				rendered="#{controlRequerimientoManaged.istipoReque}"
																				value="#{controlRequerimientoManaged.correlativoReque}"
																				required="true"
																				requiredMessage="Digite el número del requerimiento"
																				styleClass="prueba" style="text-align:left"
																				size="16" maxlength="16" tabindex="5">
																				<a4j:support ajaxSingle="true" event="onblur"
																					oncomplete="#{facesContext.maximumSeverity == null ? '': 'Richfaces.showModalPanel(\'mpErrors\');' };"
																					action="#{controlRequerimientoManaged.validarCorrelativo}" />
																			</h:inputText>
																			<rich:jQuery id="maskedRq" selector=".prueba"
																				query="mask('#{msg['obl.maskNroValorR']}')"
																				timing="onload" />

																		</h:panelGroup> 
																		<h:panelGroup id="id_textcorrelativoC">
																			<h:inputText id="inputcorrelativoC"
																				rendered="#{controlRequerimientoManaged.istipoCarta}"
																				value="#{controlRequerimientoManaged.correlativoCarta}"
																				required="true"
																				requiredMessage="Digite el número del requerimiento"
																				styleClass="prueba" style="text-align:left"
																				size="16" maxlength="16" tabindex="5">
																				<a4j:support ajaxSingle="true" event="onblur"
																					oncomplete="#{facesContext.maximumSeverity == null ? '': 'Richfaces.showModalPanel(\'mpErrors\');' };"
																					action="#{controlRequerimientoManaged.validarCorrelativo}" />
																			</h:inputText>
																			<rich:jQuery id="maskedCarta" selector=".prueba"
																				query="mask('#{msg['obl.maskNroValorC']}')"
																				timing="onload" />
																		</h:panelGroup>
																		<h:panelGroup id="id_textcorrelativoCM">
																			<h:inputText id="inputcorrelativoCM"
																				rendered="#{controlRequerimientoManaged.istipoCartaMult}"
																				value="#{controlRequerimientoManaged.correlativoCartaMult}"
																				required="true"
																				requiredMessage="Digite el número del requerimiento"
																				styleClass="prueba" style="text-align:left"
																				size="16" maxlength="16" tabindex="5">
																				<a4j:support ajaxSingle="true" event="onblur"
																					oncomplete="#{facesContext.maximumSeverity == null ? '': 'Richfaces.showModalPanel(\'mpErrors\');' };"
																					action="#{controlRequerimientoManaged.validarCorrelativo}" />
																			</h:inputText>
																			<rich:jQuery id="maskedCartaMult" selector=".prueba"
																				query="mask('#{msg['obl.maskNroValorC']}')"
																				timing="onload" />
																		</h:panelGroup>


																	</td>

																</tr>

																<tr>
																	<!--  -->
																	<td align="left" width="120px">
																		<h:outputLabel
																			value="Referencia :">
<!-- 																			<span style="color: red;">*</span> -->
																		</h:outputLabel></td>
																	<td align="left" width="290px"><rich:comboBox
																			defaultLabel="Seleccione" enableManualInput="false"
																			width="220" onblur="validaInputCbo(this)"
																			value="#{controlRequerimientoManaged.cmbTipoProgramaRequerimiento}"
																			required="false"
																			requiredMessage="Seleccione un tipo de Programa"
																			id="id_cmbtipoprograma"
																			binding="#{controlRequerimientoManaged.cmbxTipoProgramaRequerimiento}"
																			valueChangeListener="#{controlRequerimientoManaged.loadTipoProgramaRequerimiento}">
																			<f:selectItems
																				value="#{controlRequerimientoManaged.listaTipoProgramaRequerimiento}" />
																				<a4j:support
																				reRender="datosReqs,id_cmbanioinsp"
																				event="onchange" bypassUpdates="false"
																				ajaxSingle="true">
																			</a4j:support>

																		</rich:comboBox></td>

																	<td align="left" width="120px"><h:outputLabel
																			value="Fecha de notificación:">
																		</h:outputLabel></td>
																	<td align="left"><rich:calendar locale="en/US"
																			datePattern="dd/MM/yyyy" enableManualInput="true"
																			inputClass="maskDate" id="id_fechanotificacion"
																			value="#{controlRequerimientoManaged.fechaNotificacion}"
																			inputStyle="width:89px">
																		</rich:calendar> <rich:jQuery id="maskedo4" selector=".maskDate"
																			query="mask('99/99/9999')" timing="onload" /></td>
																</tr>
																<tr>
<!-- 																<h:panelGroup id="id_scbxreferencia" rendered="#{controlRequerimientoManaged.isPrograma==true}"> -->
																
<!-- 																</h:panelGroup>	 -->
																</tr>
																<tr>
																
																	<td>
																		<h:outputLabel value="¿Proviene de un/una Requerimiento/Carta?: "/>
																	</td>
																	
																	<td align="left">
																	   <h:panelGrid id="panelRefenciaReqs" cellpadding="0">
																	 
																			<h:selectBooleanCheckbox
																				value="#{controlRequerimientoManaged.asociarDocumento}">
																				<a4j:support reRender="panelRefenciaReqs,id_cmbanioinsp"
																					event="onchange" 
																					action="#{controlRequerimientoManaged.quitarDocAsociado}"
																					bypassUpdates="false" ajaxSingle="true"></a4j:support>
																			</h:selectBooleanCheckbox>
																			<h:panelGroup id="panelbusquedareqs">
																			
																				<h:inputHidden id="inputidinspeccion" value="#{controlRequerimientoManaged.idDocumentoasociado}" rendered="#{controlRequerimientoManaged.asociarDocumento==true}" />
																				<h:inputText id="inputcodigo"
																					rendered="#{controlRequerimientoManaged.asociarDocumento==true}"
																					value="#{controlRequerimientoManaged.nroDocumentoasociado}"
																					size="18"
																					onclick="#{rich:component('paneldocumentoreferencia')}.show();return false" />
																				
																					<h:outputLabel rendered="#{controlRequerimientoManaged.asociarDocumento==true}"
																			value="Años:"></h:outputLabel>
																			
																				<h:outputLabel rendered="#{controlRequerimientoManaged.asociarDocumento==true}"
																			value="#{controlRequerimientoManaged.anioDocumentoasociado}"></h:outputLabel>
																		
																			</h:panelGroup>
																			<a4j:commandLink
																				rendered="#{controlRequerimientoManaged.asociarDocumento==true}"
																				action="#{controlRequerimientoManaged.quitarDocAsociado}"
																				value="Quitar" reRender="panelbusquedareqs"
																				immediate="true" ajaxSingle="true" />

																		</h:panelGrid>
<!-- 																					</h:panelGroup> -->

																	</td>
																
																</tr>
															<tr>
																	<td align="left" width="120px"><h:outputLabel
																			value="Observaciones :">

																		</h:outputLabel></td>
																	<td align="left" width="200px">
																			<h:inputTextarea
																			value="#{controlRequerimientoManaged.observaciones}"
																			style="width: 200px;" rows="2" id="id_glosa" />
																	</td>
																	<td align="left" width="120px">
																	    <h:outputLabel
																			value="Periodo a fiscalizar :">
																		</h:outputLabel>
																	</td>

																	<td align="left" >
																	<h:panelGroup id="id_cmbanioinsp" >

																			<h:selectManyListbox id="id_selAnio"
																				required="true" 
																				disabled="#{controlRequerimientoManaged.asociarDocumento==true}"
																				requiredMessage="Seleccione un ejercicio fiscal"
																				value="#{controlRequerimientoManaged.lstAnios}"
																				size="4">
																				<f:selectItems var="var"
																					itemValue="#{var.anioFiscalizacion}"
																					itemLabel="#{var.anioFiscalizacion}"
																					value="#{controlRequerimientoManaged.lstAniosInspc}" />

																			</h:selectManyListbox>

																		</h:panelGroup> 

<!-- 																	<h:panelGroup id="id_cmbanio3insp"> -->

<!-- 																			<h:selectManyListbox id="id_selAnio3"  -->
<!-- 																				required="true" -->
<!-- 																				requiredMessage="Seleccione un ejercicio fiscal" -->
<!-- 																				value="#{controlRequerimientoManaged.lstAniosPrograma}" -->
<!-- 																				size="4"> -->
<!-- 																				<f:selectItems var="var" -->
<!-- 																					itemValue="#{var.anioFiscalizacion}" -->
<!-- 																					itemLabel="#{var.anioFiscalizacion}" -->
<!-- 																					value="#{controlRequerimientoManaged.lstAniosProgramaInspc}" /> -->

<!-- 																			</h:selectManyListbox> -->

<!-- 																		</h:panelGroup>  -->
<!-- 																	     <h:panelGroup id="id_cmbanio2insp"> -->
<!-- 																			<h:selectManyListbox id="id_selAnio2" -->
																				
<!-- 																				required="true" -->
<!-- 																				requiredMessage="Seleccione un ejercicio fiscal" -->
<!-- 																				value="#{controlRequerimientoManaged.lstAniosReq}" -->
<!-- 																				size="4"> -->
<!-- 																				<f:selectItems var="var" -->
<!-- 																					itemValue="#{var.anioFiscalizacion}" -->
<!-- 																					itemLabel="#{var.anioFiscalizacion}" -->
<!-- 																					value="#{controlRequerimientoManaged.lstAniosInspcReq}" /> -->

<!-- 																			</h:selectManyListbox> -->

<!-- 																		</h:panelGroup> -->
																	</td>
															</tr>
															
															</table>
														</rich:panel></td>

													<td><rich:panel style="width:100%; height: 220px;"
															id="id_panelregistroinspector">
															<f:facet name="header">		
															DATOS DEL INSPECTOR
														</f:facet>
															<table border="0" width="100%" height="100%">
																<tr>
																	<td align="left" width="100px">
																		<h:outputLabel value="Inspector :">
																			<span style="color: red;">*</span>
																		</h:outputLabel>
																	</td>
																	<td align="left" width="250px">
																	<rich:comboBox
																			defaultLabel="Seleccione" enableManualInput="false"
																			width="180" onblur="validaInputCbo(this)"
																			value="#{controlRequerimientoManaged.cmbInspector}"
																			required="true"
																			requiredMessage="Seleccione un(a) Inspector(a)"
																			id="id_cmbinspector"
																			binding="#{controlRequerimientoManaged.cmbxInspector}"
																			valueChangeListener="#{controlRequerimientoManaged.loadInspectorxRequerimiento}">
																			<f:selectItems
																				value="#{controlRequerimientoManaged.listaInspectores}" />
																			<a4j:support
																				reRender="id_cmbfechainsp,id_textfechainsp"
																				event="onchange" bypassUpdates="false"
																				ajaxSingle="true">
																			</a4j:support>
<!-- 																			id_cmbhorainsp,id_texthorainsp -->
																		</rich:comboBox>
																		</td>
																	<td align="left" width="120px"><h:panelGroup
																			id="id_textfechainsp">
																			<h:outputLabel
																				rendered="#{controlRequerimientoManaged.isInspector}"
																				value="Fecha inspección:">
																				<span style="color: red;">*</span>
																			</h:outputLabel>
																		</h:panelGroup></td>
												
																	<td align="left" width="100px"><h:panelGroup
																			id="id_cmbfechainsp">

																			<rich:calendar locale="en/US" direction="bottom-left"
																				rendered="#{controlRequerimientoManaged.isInspector}"
																				datePattern="dd/MM/yyyy" enableManualInput="true"
																				inputClass="maskDate" id="id_calfechainspeccion"
																				value="#{controlRequerimientoManaged.fechaInspeccion}"
																				inputStyle="width:60px">
																				<!-- Para obtener el valor de la fecha seleccionada:h:inputHidden -->
<!-- 																				<a4j:support event="onchanged" reRender="output2" -->
<!-- 																					ajaxSingle="true" /> -->
																			</rich:calendar>
																			<rich:jQuery id="maskedo2" selector=".maskDate"
																				query="mask('99/99/9999')" timing="onload" />
																		<!-- Para obtener el valor de la fecha seleccionada:h:inputHidden -->
<!-- 																				<h:inputHidden id="output2"	value="#{controlRequerimientoManaged.fechaInspeccion}" /> -->
																		</h:panelGroup></td>


																</tr>
<!-- 																<tr> -->
<!-- 																	<td align="left" width="100px"></td> -->
<!-- 																	<td align="left"></td> -->
<!-- 																	<td align="left" width="120px"><h:panelGroup -->
<!-- 																			id="id_texthorainsp"> -->
<!-- 																			<h:outputLabel -->
<!-- 																				rendered="#{controlRequerimientoManaged.isInspector}" -->
<!-- 																				value="Hora de inspeccion:"> -->
<!-- 																				<span style="color: red;">*</span> -->
<!-- 																			</h:outputLabel> -->
<!-- 																		</h:panelGroup></td> -->

<!-- 																	<td align="left" width="120px"><h:panelGroup -->
<!-- 																			id="id_cmbhorainsp"> -->
<!-- 																			<h:selectManyListbox id="id_selCuotaAnio" -->
<!-- 																				rendered="#{controlRequerimientoManaged.isInspector}" -->
<!-- 																				required="true" -->
<!-- 																				requiredMessage="Seleccione un horario" -->
<!-- 																				value="#{controlRequerimientoManaged.lstHorarios}" -->
<!-- 																				size="9"> -->
<!-- 																				<f:selectItems var="var" -->
<!-- 																					itemValue="#{var.intervaloHorario}" -->
<!-- 																					itemLabel="#{var.intervaloHorario}" -->
<!-- 																					value="#{controlRequerimientoManaged.lstHorariosInspc}" /> -->
<!-- 																			<a4j:support ajaxSingle="true" event="onblur" -->
<!-- 																					oncomplete="#{facesContext.maximumSeverity == null ? '': 'Richfaces.showModalPanel(\'mpErrors\');' };"  -->
<!-- 																					action="#{controlRequerimientoManaged.validarHorario}" -->
<!-- 																					/> -->
																				<!--VALIDA SI EL HORARIO SELECCIONADO SE ENCUENTRA REGISTRADO, AL OBTENER LA FECHA ALMAC. EN h:inputHidden: id="output2" -->
<!-- 																				<a4j:support ajaxSingle="true" event="onblur" -->
<!-- 																					oncomplete="#{facesContext.maximumSeverity == null ? '': 'Richfaces.showModalPanel(\'mpErrors\');' };"  -->
<!-- 																					action="#{controlRequerimientoManaged.validarHorario}" -->
<!-- 																					/> -->
<!-- 																			</h:selectManyListbox> -->
<!-- 																		</h:panelGroup>  -->
<!-- 																	</td> -->

<!-- 																</tr> -->

															</table>
														</rich:panel></td>
												</tr>

												<!--Segunda fila  -->

												<tr>
													<td colspan="2"><rich:panel
															style="width:100%; height: 350px;"
															id="id_panelegistrocontribuyente">

															<f:facet name="header">
																<h:outputText style="font-weight:bold"
																	value="DATOS DEL CONTRIBUYENTE" />
															</f:facet>

															<h:panelGrid cellpadding="0" cellspacing="0" columns="1"
																align="center" width="100%">

																<table border="0" width="100%" height="100%">

																	<tr>

																		<td><h:panelGroup>
																				<h:outputLabel value="Contribuyente:">
																				</h:outputLabel>

																				<h:inputText style="width:5%"
																					requiredMessage="Seleccione un Contribuyente"
																					required="true"
																					value="#{controlRequerimientoManaged.datosContribuyente.personaId}"
																					id="txtPersonaId" disabled="true" />

																				<h:inputText id="txtPersonaNombres"
																					value="#{controlRequerimientoManaged.datosContribuyente.apellidosNombres}"
																					style="width:50%" disabled="true" />

																				<a4j:commandButton id="cmdBuscarContribuyente"
																					value="#{msg['gn.buscar']}" immediate="true"
																					action="#{controlRequerimientoManaged.setPersonaInspeccion}"
																					oncomplete="#{rich:component('modalBusquedaPersona')}.hide();#{rich:component('modalBusquedaPersona')}.show();">
																					<f:param name="destinoRefresh"
																						value="txtPersonaNombres,txtDomicFiscal,txtPersonaId" />
																				</a4j:commandButton>

																			</h:panelGroup></td>

																		<td align="left" width="100px">
																			<h:panelGroup>
																				<h:outputLabel value="Domicilio Fiscal :">
																				</h:outputLabel>
																				<h:inputText id="txtDomicFiscal"
																					value="#{controlRequerimientoManaged.datosContribuyente.direccionCompleta}"
																					style="width:50%" disabled="true" />
																					<h:outputLabel value="¿Es omiso? :"></h:outputLabel>
																					<h:selectBooleanCheckbox
																						valueChangeListener="#{controlRequerimientoManaged.checkOmiso}"
																						style="align:right;text-align:right;"
																						value="#{controlRequerimientoManaged.predioOmiso}"	
																						immediate="true">
																					</h:selectBooleanCheckbox>
																			</h:panelGroup>
																	   </td>

																		<a4j:commandButton value="#{msg['gn.buscar']}"
																			style="width:100px;"
																			id="id_btnBuscarPredio"
																			action="#{controlRequerimientoManaged.buscarDjFiscalizada}"
																			reRender="id_panelDjs" immediate="true" 
																			oncomplete="#{facesContext.maximumSeverity == null ? '': 'Richfaces.showModalPanel(\'mpErrors\');' };">
																			
																		</a4j:commandButton>
																		<!-- rendered="#{controlRequerimientoManaged.seleccionPersona==true}" -->
																		<!--oncomplete="javascript:Richfaces.showModalPanel('panelconfirmagenerardj');" -->

																		<rich:panel id="id_panelDjs" style="width:100%;">
																			<rich:datascroller for="datosDjsFiscalizadas"></rich:datascroller>
																			<rich:extendedDataTable height="150px"
																				id="datosDjsFiscalizadas"
																				value="#{controlRequerimientoManaged.listDjPredials}"
																				var="record" rowKeyVar="row" rows="4"
																				noDataLabel="No se encontró registros de Predio(s)"
																				enableContextMenu="false">

																				<rich:column width="5%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">
																					</f:facet>
																					<div style="text-align: center;">
																						<h:selectBooleanCheckbox
																							value="#{record.selected}"
																							valueChangeListener="#{controlRequerimientoManaged.valueChangeListenerItem(record)}">
																							<a4j:support event="onchange" ajaxSingle="true" />
																						</h:selectBooleanCheckbox>
																					</div>
																				</rich:column>
																				<rich:column id="codPredioInspc" width="8%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">Codigo Predio</f:facet>
																					<h:outputText value="#{record.predioId}" />
																				</rich:column>

																				<rich:column id="codPredioAntInspc" width="8.5%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">Cod.Predio Ant.</f:facet>
																					<h:outputText value="#{record.codigoAnterior}" />
																				</rich:column>
																				<rich:column id="dirPredioInspc" width="32%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">Dirección del Predio</f:facet>
																					<h:outputText value="#{record.direccionCompleta}" />
																				</rich:column>
																				<rich:column id="tipoPredioInspc" width="8%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">Tipo de Predio</f:facet>
																					 <h:outputText value="#{record.tipoPredio=='U'?'Urbana':'Rural'}"/>
																				</rich:column>
																				<rich:column id="porcPredioInspc" width="6%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">Porc. Prop.</f:facet>
																					<h:outputText value="#{record.porcPropiedad} %" />
																				</rich:column>
																				<rich:column id="areaInspc" width="5%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">Área</f:facet>
																					<h:outputText
																						value="#{record.tipoPredio =='U'? record.areaTerreno: record.areaTerrenoHas}" />
																				</rich:column>
																				<rich:column id="djInspc" width="5%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">Nro. DJ.</f:facet>
																					<h:outputText value="#{record.djId}" />
																				</rich:column>

																				<rich:column id="fecDjInspc" width="7.5%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">F. Declaracion</f:facet>
																					<h:outputText value="#{record.fechaDeclaracion}">
																						<f:convertDateTime pattern="dd/MM/yyyy" />
																					</h:outputText>
																				</rich:column>

																				<rich:column id="fecAdqInspc" width="7.5%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">F. Adquisicion</f:facet>
																					<h:outputText value="#{record.fechaAdquisicion}">
																						<f:convertDateTime pattern="dd/MM/yyyy" />
																					</h:outputText>
																				</rich:column>

																				<rich:column id="estadoFiscalizadoInspc" width="3%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">Fisc.</f:facet>
																					<h:outputText value="#{record.fiscalizado==1 ? 'Si' : 'No'}"/>	
																				</rich:column>

																				<rich:column id="estadoInspc" width="7%"
																					style="background-color:#{record.styleSelected};text-align:center">
																					<f:facet name="header">Estado</f:facet>
																					<h:outputText value="#{msg['estado.activo']}"
																						rendered="#{record.estado==1}" />
																					<h:outputText value="#{msg['estado.pendiente']}"
																						rendered="#{record.estado==2}" />
																				</rich:column>

																			</rich:extendedDataTable>

																		</rich:panel>
																	</tr>

																</table>
															</h:panelGrid>
														</rich:panel></td>
												</tr>

												<tr>
													<td align="center"><a4j:outputPanel
															id="id_panelcommand">
															<table cellpadding="4" cellspacing="4">
																<tr>
																	<!-- 													<td> -->
																	<!-- 														<a4j:commandButton value="Guardar" -->
																	<!-- 															style="width:100px;" -->
																	<!-- 															action="#{controlRequerimientoManaged.guardar}" -->
																	<!-- 															reRender="panelconfirmageneradj,id_panelcommand" -->
																	<!-- 															oncomplete="#{facesContext.maximumSeverity == null ? 'Richfaces.hideModalPanel(\'mpErrors\');Richfaces.showModalPanel(\'panelconfirmageneradj\'); return false;' : 'Richfaces.showModalPanel(\'mpErrors\');' };" -->
																	<!-- 															disabled="#{(controlRequerimientoManaged.rpInspeccion.estado=='1' or controlRequerimientoManaged.rpInspeccion.estado=='0')}" -->
																	<!-- 															id="id_guardarcommand" /> -->
																	<!-- 													</td> -->
																	<td><a4j:commandButton value="Guardar"
																			style="width:100px;" id="id_commandcreardj"
																			action="#{controlRequerimientoManaged.guardar}"
																			disabled="#{(controlRequerimientoManaged.rpInspeccion.estado=='1' or controlRequerimientoManaged.rpInspeccion.estado=='0')}"
																			oncomplete="#{facesContext.maximumSeverity == null ? 'Richfaces.hideModalPanel(\'mpErrors\');Richfaces.showModalPanel(\'panelconfirmageneradj\'); return false;' : 'Richfaces.showModalPanel(\'mpErrors\');' };"
																			reRender="id_panelprincipalregistropredio">
																		</a4j:commandButton></td>
																	<td><a4j:commandButton value="Salir"
																			style="width:100px;"
																			action="#{controlRequerimientoManaged.salir}"
																			immediate="true" reRender="panelinclude">
																			<f:setPropertyActionListener
																				value="/sisat/fiscalizacion/buscarrequerimiento.xhtml"
																				target="#{sessionManaged.page}" />
																		</a4j:commandButton></td>

																</tr>



															</table>
														</a4j:outputPanel></td>
												</tr>
											</table>
										</td>
									</tr>

								</table>

							</td>
						</tr>

					</table>
				</a4j:outputPanel>
			</rich:tab>
			<rich:tab label="REGISTRO DEL RESULTADO DE LA FISCALIZACIÓN"
				disabled="true">
				<a4j:outputPanel id="id_panelprincipalregistroresultado">
					<table align="center" border="0" cellpadding="0" cellspacing="0"
						width="100%">
						<tr>
							<td>
								<table align="center" width="100%">

									<tr>
										<td>
											<table align="center" border="0" width="100%" cellpadding="2"
												cellspacing="2">

												<tr>
													<td><rich:panel style="width:100%; height: 70px;"
															id="id_panelegistroresultado">

															<f:facet name="header">
																<h:outputText style="font-weight:bold"
																	value="DATOS DEL RESULTADO" />
															</f:facet>

															<table border="0" width="100%" height="100%">

																<tr>
																	<td align="left" width="100px"><h:outputLabel
																			value="Tipo de Cargo">
																			<span style="color: red;">*</span>
																		</h:outputLabel></td>
																	<td align="left"><rich:comboBox width="150px"></rich:comboBox>

																	</td>
																	<td align="left" width="110px"><h:outputLabel
																			value="Nro. de Documento:">
																			<span style="color: red;">*</span>
																		</h:outputLabel></td>
																	<td align="left"><h:inputText maxlength="16"
																			style=" width:100px;">

																		</h:inputText></td>

																	<td align="left" width="120px"><h:outputLabel
																			value="Fecha de notificación:">
																			<span style="color: red;">*</span>
																		</h:outputLabel></td>
																	<td align="left"></td>
																</tr>


															</table>
														</rich:panel></td>

												</tr>

												<tr>
													<td><rich:panel style="width:100%; height: 350px;"
															id="id_paneldatosesultado">

															<f:facet name="header">
																<h:outputText style="font-weight:bold" value="." />
															</f:facet>

															<table border="0" width="100%" height="100%">

																<tr>
																	<rich:extendedDataTable height="150px">
																	</rich:extendedDataTable>
																</tr>


															</table>
														</rich:panel></td>

												</tr>

											</table>
										</td>
									</tr>


								</table>

							</td>
						</tr>

					</table>
				</a4j:outputPanel>


			</rich:tab>
		</rich:tabPanel>

	</h:form>

	<rich:modalPanel id="modalBusquedaPersona" autosized="true"
		onshow="autofocus('frmBuscarPersonaDJs');focusInputCodigoPersona()"
		width="600" top="110" heigth="300" styleClass="sisatModalPanel">

		<f:facet name="header">BÚSQUEDA DE CONTRIBUYENTE</f:facet>
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage value="/images/modal/close.png" id="hlpconfi1"
					styleClass="hidelink" />
				<rich:componentControl for="modalBusquedaPersona"
					attachTo="hlpconfi1" operation="hide" event="onclick" />
			</h:panelGroup>
		</f:facet>
		<h:panelGrid width="100%">
			<a4j:include
				viewId="/sisat/fiscalizacion/buscarrequerimientopersona.xhtml" />
		</h:panelGrid>


	</rich:modalPanel>

	<rich:modalPanel id="panelconfirmageneradj" autosized="true"
		width="300">

		<f:facet name="header">
			<h:outputText value="Confirmacion" />
		</f:facet>
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage value="/images/modal/close.png" id="hlpconfigdj"
					styleClass="hidelink" />
				<rich:componentControl for="panelconfirmageneradj"
					attachTo="hlpconfigdj" operation="hide" event="onclick" />
			</h:panelGroup>
		</f:facet>
		<h:form>
			<h:panelGrid columns="1">
				<a4j:outputPanel ajaxRendered="true">
					<h:panelGrid columns="2">
						<h:outputText id="succgdj" style="font-weight:bold;color:green"
							value="Se registró la Inspección satisfactoriamente" />
					</h:panelGrid>
				</a4j:outputPanel>
				<h:panelGrid columns="2">
					<a4j:commandButton value=" Aceptar " style="width:100px;"
						action="#{sessionManaged.sendRedirectPrincipal}"
						reRender="id_commandimprimir" immediate="true">
						<f:setPropertyActionListener
							value="/sisat/fiscalizacion/buscarrequerimiento.xhtml"
							target="#{sessionManaged.page}" />
					</a4j:commandButton>
				</h:panelGrid>
			</h:panelGrid>
		</h:form>
	</rich:modalPanel>

	<rich:modalPanel id="panelconfirmagenerardj" autosized="true"
		width="300">

		<f:facet name="header">
			<h:outputText value="Confirmacion" />
		</f:facet>
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage value="/images/modal/close.png" id="hlpconfiggenera"
					styleClass="hidelink" />
				<rich:componentControl for="panelconfirmagenerardj"
					attachTo="hlpconfiggenera" operation="hide" event="onclick" />
			</h:panelGroup>
		</f:facet>
		<h:form>
			<h:panelGrid columns="1">
				<a4j:outputPanel ajaxRendered="true">
					<h:panelGrid columns="2">
						<h:outputText id="otextgenerar"
							style="font-weight:bold;color:green"
							value="¿Desea generar DJ(s) de fiscalización?" />
					</h:panelGrid>
				</a4j:outputPanel>
				<h:panelGrid columns="2">
					<a4j:commandButton value=" Aceptar " style="width:80px;"
						action="#{controlRequerimientoManaged.actualizacion}"
						immediate="true">
						<f:setPropertyActionListener
							value="#{controlRequerimientoManaged.datosContribuyente}"
							target="#{controlRequerimientoManaged.datosContribuyente}"
							id="ractual" />
						<f:setPropertyActionListener
							value="/sisat/persona/buscarpersona.xhtml"
							target="#{sessionManaged.page}" />
					</a4j:commandButton>
					<a4j:commandButton value="#{msg['gn.cancelar']}"
						style="width:80px;"
						action="#{controlRequerimientoManaged.buscarDjFiscalizada}"
						reRender="id_panelDjs"
						onclick="Richfaces.hideModalPanel('panelconfirmagenerardj')"
						immediate="true">
					</a4j:commandButton>

				</h:panelGrid>

			</h:panelGrid>
		</h:form>
	</rich:modalPanel>

	<rich:modalPanel id="panelconfirmagenerardjomisa" autosized="true"
		width="300">

		<f:facet name="header">
			<h:outputText value="Confirmacion" />
		</f:facet>
		<f:facet name="controls">
			<h:panelGroup>
				<h:graphicImage value="/images/modal/close.png"
					id="hlpconfiggeneraomisa" styleClass="hidelink" />
				<rich:componentControl for="panelconfirmagenerardjomisa"
					attachTo="hlpconfiggeneraomisa" operation="hide" event="onclick" />
			</h:panelGroup>
		</f:facet>
		<h:form>
			<h:panelGrid columns="1">
				<a4j:outputPanel ajaxRendered="true">
					<h:panelGrid columns="2">
						<h:outputText id="otextgenerar"
							style="font-weight:bold;color:green"
							value="¿Tiene un predio omiso?" />
					</h:panelGrid>
				</a4j:outputPanel>
				<h:panelGrid columns="2">
					<a4j:commandButton value="#{msg['gn.si']}" style="width:80px;"
						action="#{controlRequerimientoManaged.actualizacion}"
						immediate="true">
						<f:setPropertyActionListener
							value="#{controlRequerimientoManaged.datosContribuyente}"
							target="#{controlRequerimientoManaged.datosContribuyente}"
							id="ractual" />
						<f:setPropertyActionListener
							value="/sisat/persona/buscarpersona.xhtml"
							target="#{sessionManaged.page}" />
					</a4j:commandButton>
					<a4j:commandButton value="#{msg['gn.no']}" style="width:80px;"
						action="#{controlRequerimientoManaged.buscarDjFiscalizada}"
						reRender="id_panelDjs"
						oncomplete="#{facesContext.maximumSeverity == null ? '' : 'Richfaces.showModalPanel(\'panelconfirmagenerardj\')' }"
						onclick="Richfaces.hideModalPanel('panelconfirmagenerardjomisa')"
						immediate="true">
					</a4j:commandButton>

				</h:panelGrid>

			</h:panelGrid>
		</h:form>
	</rich:modalPanel>
			<rich:modalPanel id="paneldocumentoreferencia" width="860" height="500">
			<f:facet name="header">
				<h:outputText value="Listado de Requerimientos" />
			</f:facet>
			<f:facet name="controls">
				<h:panelGroup>
					<h:graphicImage value="/images/modal/close.png"
						styleClass="hidelink" id="hidelink3" />
					<rich:componentControl for="paneldocumentoreferencia" attachTo="hidelink3"
						operation="hide" event="onclick" />
				</h:panelGroup>
			</f:facet>
			<h:form>
			<div align="center">
				<h3>
					<h:outputText value="Requerimientos/Cartas" />
				</h3>
			</div>
<!-- 			<rich:panel width="200px" height="200px"> -->
				<rich:datascroller for="datosReqs" maxPages="10"></rich:datascroller>
				<rich:extendedDataTable id="datosReqs" noDataLabel="No se encontró registros de Reqs./Cartas"
				value="#{controlRequerimientoManaged.inspeccion}" var="recordReqs"
				width="840px" height="400px" sortMode="single" rows="10"
				selectionMode="single" enableContextMenu="false" rowKeyVar="row">
				<rich:column id="x14" width="30px">
					<a4j:commandLink ajaxSingle="true"
						oncomplete="#{rich:component('paneldocumentoreferencia')}.hide();"
						reRender="panelRefenciaReqs">
						<h:graphicImage value="/images/ver2.png" style="border: 0px;" />
						<f:setPropertyActionListener
							target="#{controlRequerimientoManaged.nroDocumentoasociado}"
							value="#{recordReqs.nroRequerimiento}" />
						<f:setPropertyActionListener
							target="#{controlRequerimientoManaged.idDocumentoasociado}"
							value="#{recordReqs.tipoDocumentoId}" />
							<f:setPropertyActionListener
							target="#{controlRequerimientoManaged.anioDocumentoasociado}"
							value="#{recordReqs.anioInspeccion}" />
					</a4j:commandLink>
				</rich:column>
				<rich:column id="ptp" width="220px"
					filterBy="#{recordReqs.programaNombre}">
					<f:facet name="header">Programa</f:facet>
					<h:outputText value="#{recordReqs.programaNombre}" />
				</rich:column>
				<rich:column id="ptd" width="100px"
					filterBy="#{recordReqs.tipoDocumentoNombre}">
					<f:facet name="header">Tipo Doc.</f:facet>
					<h:outputText value="#{recordReqs.tipoDocumentoNombre}" />
				</rich:column>
				<rich:column id="pnro" width="120px"
					filterBy="#{recordReqs.nroRequerimiento}"
					sortBy="#{recordReqs.nroRequerimiento}">
					<f:facet name="header">Nro.Req/Carta</f:facet>
					<h:outputText value="#{recordReqs.nroRequerimiento}" />
				</rich:column>
				<rich:column id="pcod" width="80px"
					filterBy="#{recordReqs.personaId}"
					sortBy="#{recordReqs.personaId}">
					<f:facet name="header">Código</f:facet>
					<h:outputText value="#{recordReqs.personaId}" />
				</rich:column>
				<rich:column id="pnom" width="300px"
					filterBy="#{recordReqs.apellidosNombres}"
					sortBy="#{recordReqs.apellidosNombres}">
					<f:facet name="header">Apellidos y Nombres</f:facet>
					<h:outputText value="#{recordReqs.apellidosNombres}" />
				</rich:column>
			</rich:extendedDataTable>
<!-- 			</rich:panel> -->
</h:form>
		</rich:modalPanel>
</ui:composition>